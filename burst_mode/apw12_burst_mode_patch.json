{
  "original_file": "_bins/PIC16F1704_APW12_1.2_V71.hex",
  "patch_version": "1.0",
  "modifications": {
    "timer4_isr_hook": {
      "address": 256,
      "code": [
        32,
        255,
        2051,
        254,
        7436,
        10272,
        12048,
        32,
        2302,
        131,
        2303,
        8
      ],
      "description": "Timer4 ISR hook for burst mode monitoring"
    },
    "burst_mode_logic": {
      "address": 3856,
      "code": [
        32,
        160,
        2051,
        161,
        2112,
        253,
        2168,
        14848,
        6403,
        10288,
        2169,
        637,
        7171,
        10320,
        376,
        10852,
        10352,
        2169,
        637,
        6147,
        10352,
        12289,
        120,
        12296,
        126,
        10852,
        10352,
        379,
        2174,
        635,
        7171,
        10352,
        2172,
        14849,
        124,
        2209,
        131,
        2208,
        8
      ],
      "description": "Main burst mode state machine"
    },
    "i2c_extensions": {
      "address": 4096,
      "code": [
        2082,
        15440,
        6147,
        10272,
        2082,
        15444,
        7171,
        10272,
        2082,
        15440,
        6403,
        10288,
        2082,
        15441,
        6403,
        10304,
        2082,
        15442,
        6403,
        10320,
        2082,
        15443,
        6403,
        10336,
        2082,
        15444,
        6403,
        10352,
        11597,
        2087,
        120,
        10368,
        2087,
        121,
        10368,
        2087,
        122,
        10368,
        2168,
        83,
        10368,
        2173,
        83,
        8
      ],
      "description": "I2C command extensions for burst control"
    },
    "initialization": {
      "address": 4352,
      "code": [
        376,
        12313,
        121,
        12318,
        122,
        379,
        380,
        381,
        12296,
        126,
        383
      ],
      "description": "Burst mode variable initialization"
    }
  },
  "variable_allocation": {
    "BURST_STATE": 120,
    "BURST_THRESH_L": 121,
    "BURST_THRESH_H": 122,
    "BURST_TIMER": 123,
    "BURST_FLAGS": 124,
    "LOAD_CURRENT": 125,
    "BURST_FREQ_DIV": 126,
    "SAFETY_STATUS": 127
  },
  "i2c_commands": {
    "BURST_ENABLE": 80,
    "SET_THRESH_LOW": 81,
    "SET_THRESH_HIGH": 82,
    "GET_BURST_STATUS": 83,
    "GET_LOAD_CURRENT": 84
  },
  "safety_notes": [
    "All modifications preserve original functionality",
    "Burst mode is disabled by default",
    "Safety monitoring remains active",
    "Original I2C protocol unchanged",
    "Reversible via I2C command 0x50 with data 0x00"
  ]
}